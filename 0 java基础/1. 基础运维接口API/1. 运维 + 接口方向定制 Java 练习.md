好，这一组我们就**专门为运维 + 接口方向定制 Java 练习**。
不讲花架子，每一题都像你将来会在日志、接口、配置、健康检查里真正遇到的场景。代码是工具，目标是“看懂、改得动、不慌” 

我按**真实使用频率**来排，从最常见到稍微进阶。

---

## 练习 1：健康检查接口（接口人必做）

### 场景

服务是否存活，k8s / SLB / Nginx 都会打这个接口。

```java
public class HealthCheck {

    public static String health() {
        return "OK";
    }

    public static void main(String[] args) {
        System.out.println(health());
    }
}
```

### 练习目标

* 方法返回值
* 接口返回字符串

### 可改练习

* 返回 `"UP"` / `"DOWN"`
* 增加时间戳

---

## 练习 2：端口状态模拟（if 判断）

```java
public class Demo {

    static boolean isOpen(int port) {
        if (port == 80 || port == 443) {
            return true;
        }
        return false;
    }

    public static void main(String[] args) {
        int port = 8080;

        if (isOpen(port)) {
            System.out.println("Port " + port + " is OPEN");
        } else {
            System.out.println("Port " + port + " is CLOSED");
        }
    }
}
```

### 运维对应

* 防火墙
* 安全组
* 端口探活

---

## 练习 3：CPU 使用率告警（数组 + 循环）

```java
public class CpuMonitor {

    public static void main(String[] args) {
        int[] cpuUsage = {30, 45, 90, 70, 88};

        for (int cpu : cpuUsage) {
            if (cpu >= 85) {
                System.out.println(cpu + "% ALERT");
            } else {
                System.out.println(cpu + "% OK");
            }
        }
    }
}
```

### 运维影子

* Prometheus
* 告警阈值

---

## 练习 4：接口参数校验（非常重要）

```java
public class Demo01 {

    static boolean valid(String username, String token) {
        if (username == null || username.isEmpty()) {
            return false;
        }
        if (token == null || token.length() < 10) {
            return false;
        }
        return true;
    }

    public static void main(String[] args) {
        System.out.println(valid("admin", "1234567890"));
        System.out.println(valid("", "123"));
    }
}
```

### 运维 / API

* 网关参数校验
* 防止无效请求

---

## 练习 5：返回统一接口结果（真实 API 风格）

```java
class Result {
    int code;
    String message;
    Object data;
}

public class Demo01 {

    static Result success(Object data) {
        Result r = new Result();
        r.code = 200;
        r.message = "success";
        r.data = data;
        return r;
    }

    static Result error(String msg) {
        Result r = new Result();
        r.code = 500;
        r.message = msg;
        return r;
    }

    public static void main(String[] args) {
        System.out.println(success("ok").code);
        System.out.println(error("fail").message);
    }
}


```

### 你未来会看到的

```json
{ "code": 200, "message": "success", "data": "ok" }
```

---

## 练习 6：日志打印（接口排错第一步）

```java
public class LoggerDemo {

    static void log(String level, String msg) {
        System.out.println("[" + level + "] " + msg);
    }

    public static void main(String[] args) {
        log("INFO", "service start");
        log("ERROR", "db connection failed");
    }
}
```

### 运维对应

* ELK
* 日志级别筛选

---

## 练习 7：模拟配置读取（配置中心影子）

```java
public class Demo01 {

    static String getConfig(String key) {
        if ("db.host".equals(key)) {
            return "127.0.0.1";
        }
        if ("db.port".equals(key)) {
            return "3306";
        }
        return null;
    }

    public static void main(String[] args) {
        System.out.println(getConfig("db.host"));
    }
}
```

---

## 练习 8：接口耗时统计（慢接口排查）

```java
public class Demo01 {

    static void api() {
        try {
            Thread.sleep(300);
        } catch (Exception e) {
        }
    }

    public static void main(String[] args) {
        long start = System.currentTimeMillis();
        api();
        long end = System.currentTimeMillis();

        System.out.println("cost = " + (end - start) + " ms");
    }
}
```

---

## 运维 Java 学习正确路径（重点）

你不需要学成 Java 架构师，只要会这几件事：

| 能力            | 是否必会 |
| ------------- | ---- |
| 看懂 Controller | ✅    |
| 看日志           | ✅    |
| 改配置           | ✅    |
| 判断接口返回        | ✅    |
| 写简单工具         | ✅    |
| JVM 深入        | ❌    |

---

## 下一步我可以继续给你

*  **Spring Boot 接口 + 日志 + 参数校验完整 Demo**
*  **Nacos + Java 配置读取真实案例**
*  **K8s 环境下 Java 服务是怎么启动和挂的**
*  **10 个运维面试常问 Java 问题**

你挑一个方向，我继续往下铺路 

