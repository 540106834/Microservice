
# ç»ƒä¹  1ï¼ˆç±»ï¼‰

## å†™ä¸€ä¸ª `TimeService`

**æ–¹æ³•è¿”å›å½“å‰æ—¶é—´å­—ç¬¦ä¸²**

### ç›®æ ‡

* ä¼šå†™ç±»
* ä¼šå†™æ–¹æ³•
* ä¼šç”¨ Java æ—¶é—´ API

### ç¤ºä¾‹ä»£ç 

```java
import java.time.LocalDateTime;

public class TimeService {

    public String now() {
        return LocalDateTime.now().toString();
    }

    public static void main(String[] args) {
        TimeService timeService = new TimeService();
        System.out.println(timeService.now());
    }
}
```

ğŸ“Œ æ­¤æ—¶ä½ å·²ç»å®Œæˆäº†ï¼š

* ç±» âœ…
* å¯¹è±¡ âœ…
* æ–¹æ³•è¿”å›å€¼ âœ…

---

# ç»ƒä¹  2ï¼ˆæ¥å£ï¼‰

## å®šä¹‰æ¥å£ `TimeService`

## å®ç° `SystemTimeService`

è¿™é‡Œå¼€å§‹è¿›å…¥**çœŸå® Web é¡¹ç›®çš„ç»“æ„**ã€‚

---

### â‘  å®šä¹‰æ¥å£

```java
public interface TimeService {
    String now();
}
```

ğŸ“Œ æ¥å£åªç®¡ï¼š
**â€œä½ å¿…é¡»æä¾›ä»€ä¹ˆæ–¹æ³•â€**

---

### â‘¡ å®ç°æ¥å£

```java
import java.time.LocalDateTime;

public class SystemTimeService implements TimeService {

    @Override
    public String now() {
        return LocalDateTime.now().toString();
    }
}
```

ğŸ“Œ å…³é”®ç‚¹åªæœ‰ä¸¤ä¸ªï¼š

* `implements TimeService`
* `@Override`ï¼ˆä¸€å®šè¦å†™ï¼‰

---

### â‘¢ æµ‹è¯•æ¥å£ + å®ç°

```java
public class Main {
    public static void main(String[] args) {
        TimeService timeService = new SystemTimeService();
        System.out.println(timeService.now());
    }
}
```

 **é‡è¦æ„Ÿè§‰**ï¼š
ä½ ç°åœ¨æ˜¯ç”¨â€œæ¥å£â€åœ¨ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯ç”¨å…·ä½“ç±»ã€‚

---

# ç»ƒä¹  3ï¼ˆæ³¨è§£ï¼‰

## å†™ `/time` æ¥å£

## è¿”å›å½“å‰æ—¶é—´ï¼ˆSpring Bootï¼‰

ç°åœ¨æˆ‘ä»¬æŠŠå‰é¢çš„ä¸œè¥¿æ¬è¿› Web ä¸–ç•Œ ğŸŒ

---

### â‘  Service å®ç°ï¼ˆåŠ æ³¨è§£ï¼‰

```java
import org.springframework.stereotype.Service;
import java.time.LocalDateTime;

@Service
public class SystemTimeService implements TimeService {

    @Override
    public String now() {
        return LocalDateTime.now().toString();
    }
}
```

---

### â‘¡ Controller

```java
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class TimeController {

    private final TimeService timeService;

    public TimeController(TimeService timeService) {
        this.timeService = timeService;
    }

    @GetMapping("/time")
    public String time() {
        return timeService.now();
    }
}
```

ğŸ“Œ è¿™é‡Œå‘ç”Ÿäº†ä¸‰ä»¶å¤§äº‹ï¼š

1. `@RestController` æŠŠç±»å˜æˆ HTTP æ¥å£
2. `@GetMapping("/time")` æŠŠ URL ç»‘å®šåˆ°æ–¹æ³•
3. Spring è‡ªåŠ¨æŠŠ `SystemTimeService` æ³¨å…¥è¿›æ¥

---

## æœ€ç»ˆç»“æ„ï¼ˆä½ è„‘å­é‡Œè¦æœ‰è¿™å¼ å›¾ï¼‰ğŸ§ 

```
æµè§ˆå™¨ / curl
   â†“  GET /time
TimeController
   â†“
TimeServiceï¼ˆæ¥å£ï¼‰
   â†“
SystemTimeServiceï¼ˆå®ç°ï¼‰
   â†“
å½“å‰æ—¶é—´å­—ç¬¦ä¸²
```

---

## è‡ªæµ‹å°æ£€æŸ¥ âœ…

ä½ ç°åœ¨åº”è¯¥èƒ½å›ç­”ï¼š

* ä¸ºä»€ä¹ˆ Controller ç”¨æ¥å£ï¼Œä¸ç”¨å®ç°ç±»ï¼Ÿ
* å¦‚æœæˆ‘å†å†™ä¸€ä¸ª `MockTimeService`ï¼ŒController è¦ä¸è¦æ”¹ï¼Ÿ
* `@Override` å»æ‰ä¼šä¸ä¼šæŠ¥é”™ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ

---

å¦‚æœä½ ç‚¹å¤´äº†ï¼Œä¸‹ä¸€æ­¥æˆ‘å¯ä»¥ç»§ç»­å¸¦ä½ ï¼š

ğŸ‘‰ **æŠŠè¿”å›å€¼æ¢æˆ Result<T>ï¼ˆä¼ä¸šçº§æ ‡å‡†ï¼‰**
ğŸ‘‰ **æ—¶é—´æ ¼å¼åŒ–ï¼ˆyyyy-MM-dd HH:mm:ssï¼‰**
ğŸ‘‰ **/time + /health åˆå¹¶æˆä¸€ä¸ª API æ¨¡å—**

ä½ è¯´ä¸€å£°ï¼Œæˆ‘ä»¬ç»§ç»­æ¨è¿› 
