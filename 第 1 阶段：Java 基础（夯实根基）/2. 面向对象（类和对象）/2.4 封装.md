**封装**，在 Java 里像给对象穿上一件**有口袋、有拉链的外套**。外面能用，里面怎么缝的，不随便掀开 。

---

## 一、封装到底在干嘛？

一句话版：

> **把“数据”和“操作数据的方式”绑在一起，对外只暴露安全入口**

三件核心事：

1. **隐藏实现细节**
2. **保护数据不被乱改**
3. **控制访问边界**

---

## 二、没有封装会怎样？（反例）

```java
class User {
    public String name;
    public int age;
}
```

使用时：

```java
User u = new User();
u.age = -100;      // 合法，但离谱
u.name = null;    // 合法，但危险
```

 类就像一间**没有门禁的机房** 

---

## 三、标准封装写法（你以后会天天见）

```java
class User {
    private String name;
    private int age;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        if (name == null || name.isEmpty()) {
            return;
        }
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        if (age < 0 || age > 150) {
            return;
        }
        this.age = age;
    }
}
```

使用：

```java
User u = new User();
u.setAge(18);
System.out.println(u.getAge());
```

 外部只能**通过方法**接触数据

---

## 四、`private` 是封装的门锁

访问控制符是封装的地基：

| 修饰符         | 访问范围    |
| ----------- | ------- |
| `private`   | 仅本类     |
| `default`   | 同包      |
| `protected` | 同包 + 子类 |
| `public`    | 任何地方    |

 **封装 ≠ private**
 但 **封装 = 合理使用 private + 方法**

---

## 五、封装带来的直接好处

### 1 数据安全

```java
setAge() 里统一校验
```

### 2 逻辑集中

* 规则写在类里
* 不散落在调用方

### 3 代码可维护

* 字段改名
* 实现重构
   外部代码不用动

---

## 六、在 Spring / 运维场景里怎么看封装 

### 配置类封装

```java
@ConfigurationProperties(prefix = "db")
public class DbConfig {
    private String url;
    private String username;
    private String password;

    // getter / setter
}
```

你只关心：

```java
dbConfig.getUrl();
```

至于值怎么来、从哪来、是否加密
 **被封装了**

---

### Service 封装业务

```java
public class RestartService {
    public void restart() {
        stop();
        start();
    }

    private void stop() { }
    private void start() { }
}
```

调用者：

```java
restartService.restart();
```

像敲一个按钮，而不是自己拆机器 

---

## 七、常见误区 ⚠️

❌ “字段 private 就是封装了”
✅ **有规则、有边界的访问才叫封装**

❌ “getter/setter 都自动生成就完事”
✅ setter 里应该有业务约束

❌ “封装影响性能”
✅ JVM 会内联，性能不是问题

---

## 八、一句话记忆版

> **封装 = 外面只给按钮，里面随便换齿轮** 

如果你愿意，我可以继续给你串起来讲：

* 封装 vs 继承 vs 多态
* 为什么说“面向接口就是极致封装”
* Spring 里哪些地方最能体现封装
* 运维视角：封装如何减少误操作

选一个，我接着拆。
