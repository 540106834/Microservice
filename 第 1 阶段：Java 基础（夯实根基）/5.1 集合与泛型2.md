# **Java é›†åˆæ¡†æ¶ï¼ˆListã€Setã€Mapï¼‰** å’Œ **æ³›å‹ï¼ˆGenericsï¼‰** çš„æ¦‚å¿µã€ç‰¹ç‚¹ã€åº”ç”¨ä»¥åŠç¤ºä¾‹ã€‚

## 1 Java é›†åˆæ¡†æ¶æ¦‚è§ˆ

Java é›†åˆæ¡†æ¶ä¸»è¦åˆ† **ä¸‰ç±»æ¥å£**ï¼š

| æ¥å£       | æè¿°        | å¸¸ç”¨å®ç°ç±»                                              |
| -------- | --------- | -------------------------------------------------- |
| **List** | æœ‰åºï¼Œå¯é‡å¤    | `ArrayList`, `LinkedList`, `Vector`                |
| **Set**  | æ— åºï¼Œä¸å¯é‡å¤   | `HashSet`, `LinkedHashSet`, `TreeSet`              |
| **Map**  | é”®å€¼å¯¹æ˜ å°„ï¼Œé”®å”¯ä¸€ | `HashMap`, `LinkedHashMap`, `TreeMap`, `Hashtable` |

é›†åˆæ¡†æ¶ä¸»è¦ç‰¹ç‚¹ï¼š

* æä¾›ç»Ÿä¸€æ¥å£ (`Collection` / `Map`)
* å¯å­˜å‚¨å¯¹è±¡ï¼ˆå¼•ç”¨ç±»å‹ï¼‰
* æ”¯æŒæ³›å‹ï¼ˆç±»å‹å®‰å…¨ï¼‰

---

## 2 Listï¼šæœ‰åºå¯é‡å¤

**ç‰¹ç‚¹**ï¼š

* å…ƒç´ æŒ‰æ’å…¥é¡ºåºæ’åˆ—
* å¯ä»¥æ ¹æ®ç´¢å¼•è®¿é—®
* å¯é‡å¤

**ç¤ºä¾‹ï¼ˆæ³›å‹ï¼‰**ï¼š

```java
import java.util.ArrayList;
import java.util.List;

public class ListDemo {
    public static void main(String[] args) {
        List<String> names = new ArrayList<>(); // æ³›å‹æŒ‡å®šå­˜å‚¨ String
        names.add("Alice");
        names.add("Bob");
        names.add("Alice"); // å¯é‡å¤

        // éå†
        for (String name : names) {
            System.out.println(name);
        }

        // æ ¹æ®ç´¢å¼•è®¿é—®
        System.out.println("ç¬¬1ä¸ªå…ƒç´ : " + names.get(0));
    }
}
```

---

## 3ï¸âƒ£ Setï¼šæ— åºä¸å¯é‡å¤

**ç‰¹ç‚¹**ï¼š

* å…ƒç´ ä¸é‡å¤
* æ— ç´¢å¼•ï¼ˆæ— æ³•é€šè¿‡ä¸‹æ ‡è®¿é—®ï¼‰
* å¸¸ç”¨äºå»é‡

**ç¤ºä¾‹**ï¼š

```java
import java.util.HashSet;
import java.util.Set;

public class SetDemo {
    public static void main(String[] args) {
        Set<Integer> numbers = new HashSet<>();
        numbers.add(1);
        numbers.add(2);
        numbers.add(1); // é‡å¤å…ƒç´ è¢«å¿½ç•¥

        for (Integer num : numbers) {
            System.out.println(num); // è¾“å‡ºé¡ºåºä¸å›ºå®š
        }
    }
}
```

* **TreeSet**ï¼šå…ƒç´ æœ‰åºï¼ˆè‡ªç„¶æ’åºæˆ–è‡ªå®šä¹‰ Comparatorï¼‰
* **LinkedHashSet**ï¼šä¿æŒæ’å…¥é¡ºåº

---

## 4ï¸âƒ£ Mapï¼šé”®å€¼å¯¹é›†åˆ

**ç‰¹ç‚¹**ï¼š

* é”®å”¯ä¸€ï¼Œå€¼å¯é‡å¤
* æ ¹æ®é”®å¿«é€Ÿè®¿é—®å€¼
* å¸¸ç”¨äºç¼“å­˜ã€æŸ¥æ‰¾è¡¨

**ç¤ºä¾‹**ï¼š

```java
import java.util.HashMap;
import java.util.Map;

public class MapDemo {
    public static void main(String[] args) {
        Map<String, Integer> scores = new HashMap<>();
        scores.put("Alice", 90);
        scores.put("Bob", 85);
        scores.put("Alice", 95); // è¦†ç›–ä¹‹å‰çš„å€¼

        // éå† Map
        for (Map.Entry<String, Integer> entry : scores.entrySet()) {
            System.out.println(entry.getKey() + ": " + entry.getValue());
        }

        // è·å–å€¼
        System.out.println("Alice çš„æˆç»©: " + scores.get("Alice"));
    }
}
```

* **LinkedHashMap**ï¼šä¿æŒæ’å…¥é¡ºåº
* **TreeMap**ï¼šé”®æ’åº

---

## 5ï¸âƒ£ æ³›å‹ï¼ˆGenericsï¼‰

**ä½œç”¨**ï¼š

* æé«˜ç±»å‹å®‰å…¨ï¼Œé¿å… `ClassCastException`
* ç¼–è¯‘æ—¶æ£€æŸ¥ç±»å‹ï¼Œå‡å°‘å¼ºåˆ¶ç±»å‹è½¬æ¢
* å¯ç”¨äºé›†åˆã€æ–¹æ³•ã€ç±»

**ç¤ºä¾‹ï¼šé›†åˆä¸­çš„æ³›å‹**ï¼š

```java
List<String> list = new ArrayList<>();
list.add("hello");
String s = list.get(0); // ä¸éœ€è¦å¼ºè½¬
```

**ç¤ºä¾‹ï¼šæ³›å‹æ–¹æ³•**ï¼š

```java
public class Utils {
    public static <T> void printArray(T[] array) {
        for (T item : array) {
            System.out.println(item);
        }
    }
    
    public static void main(String[] args) {
        Integer[] nums = {1, 2, 3};
        String[] names = {"Alice", "Bob"};
        printArray(nums);
        printArray(names);
    }
}
```

**ç¤ºä¾‹ï¼šæ³›å‹ç±»**ï¼š

```java
public class Box<T> {
    private T value;

    public void set(T value) { this.value = value; }
    public T get() { return value; }

    public static void main(String[] args) {
        Box<String> box = new Box<>();
        box.set("Hello");
        System.out.println(box.get());
    }
}
```

---

## 6ï¸âƒ£ æ€»ç»“

| æ¥å£   | ç‰¹ç‚¹           | å¸¸ç”¨å®ç°                      | æ³›å‹ç”¨é€”          |
| ---- | ------------ | ------------------------- | ------------- |
| List | æœ‰åºã€å¯é‡å¤       | ArrayList, LinkedList     | ä¿è¯å…ƒç´ ç±»å‹ä¸€è‡´ï¼Œå®‰å…¨è®¿é—® |
| Set  | æ— åºã€ä¸å¯é‡å¤      | HashSet, TreeSet          | å»é‡ï¼Œä¿è¯ç±»å‹å®‰å…¨     |
| Map  | é”®å”¯ä¸€ã€å€¼å¯é‡å¤     | HashMap, TreeMap          | é”®å€¼å¯¹ç±»å‹å®‰å…¨       |
| æ³›å‹   | ç¼–è¯‘æœŸç±»å‹æ£€æŸ¥ã€å‡å°‘å¼ºè½¬ | List<T>, Map<K,V>, æ³›å‹æ–¹æ³•/ç±» | å¢å¼ºç±»å‹å®‰å…¨ã€å¯å¤ç”¨æ€§   |

---

ğŸ’¡ **å®æˆ˜ç»éªŒ**ï¼š

1. `ArrayList`ï¼šé¢‘ç¹éšæœºè®¿é—®
2. `LinkedList`ï¼šé¢‘ç¹æ’å…¥/åˆ é™¤
3. `HashSet`ï¼šå¿«é€Ÿå»é‡
4. `TreeSet` / `TreeMap`ï¼šéœ€è¦æ’åº
5. **æ³›å‹**ï¼šå°½é‡ç»™é›†åˆåŠ ä¸Šç±»å‹ï¼Œå‡å°‘å¼ºè½¬é”™è¯¯

---

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥å¸®ä½ ç”»ä¸€å¼  **é›†åˆæ¡†æ¶ + æ³›å‹å…³ç³»å›¾**ï¼ŒæŠŠ Listã€Setã€Map åŠå…¶å®ç°ç±»å’Œæ³›å‹çš„ä½¿ç”¨åœºæ™¯ç›´è§‚å±•ç¤ºå‡ºæ¥ï¼Œéå¸¸æ¸…æ™°ã€‚

ä½ å¸Œæœ›æˆ‘ç”»å—ï¼Ÿ
