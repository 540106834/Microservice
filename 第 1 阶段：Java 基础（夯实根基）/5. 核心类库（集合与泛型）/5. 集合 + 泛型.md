å¥½ï¼Œè¿™ä¸€å—æ­£æ˜¯ **æ¥å£è¿”å›ç»“æ„çš„â€œéª¨æ¶ + è¡€æ¶²â€**ã€‚
æˆ‘ä»¬ç”¨ **é›†åˆ + æ³›å‹** æŠŠæ¥å£ä»â€œåªèƒ½è¿”å­—ç¬¦ä¸²â€å‡çº§æˆâ€œèƒ½è¿”ä»»æ„ä¸šåŠ¡æ•°æ®çš„æ ‡å‡†æ¥å£â€ã€‚

ä¸‹é¢æˆ‘æŒ‰ **æ¦‚å¿µ â†’ å•ç‚¹ç¤ºä¾‹ â†’ æ¥å£çº§å®Œæ•´æ¡ˆä¾‹** æ¥è®²ã€‚

---

## ä¸€ã€é›†åˆåŸºç¡€ï¼ˆList / Map / Setï¼‰

### 1ï¸âƒ£ Listï¼šæœ‰åºã€å¯é‡å¤

æœ€å¸¸ç”¨ï¼Œ**æ¥å£è¿”å›åˆ—è¡¨**å‡ ä¹ä¸€å®šç”¨å®ƒã€‚

```java
List<String> names = new ArrayList<>();
names.add("Alice");
names.add("Bob");
names.add("Alice"); // å¯ä»¥é‡å¤
```

ğŸ“Œ åœºæ™¯

* æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨
* æŸ¥è¯¢è®¢å•åˆ—è¡¨

---

### 2ï¸âƒ£ Setï¼šæ— åºã€ä¸é‡å¤

```java
Set<String> roles = new HashSet<>();
roles.add("ADMIN");
roles.add("USER");
roles.add("ADMIN"); // ä¼šè¢«å¿½ç•¥
```

ğŸ“Œ åœºæ™¯

* ç”¨æˆ·è§’è‰²
* æ ‡ç­¾é›†åˆ
* å»é‡åçš„ç»“æœ

---

### 3ï¸âƒ£ Mapï¼šé”®å€¼å¯¹ï¼ˆæ¥å£å‚æ•° & è¿”å›å¸¸è§ï¼‰

```java
Map<String, Object> user = new HashMap<>();
user.put("id", 1);
user.put("name", "Alice");
user.put("age", 18);
```

ğŸ“Œ åœºæ™¯

* ä¸´æ—¶ç»“æ„
* åŠ¨æ€å­—æ®µ
* é…ç½®ã€ç»Ÿè®¡ç»“æœ

---

## äºŒã€æ³›å‹ï¼ˆGenericï¼‰æ ¸å¿ƒç†è§£

> æ³›å‹ä¸æ˜¯â€œé«˜çº§è¯­æ³•â€ï¼Œè€Œæ˜¯ **è®©ä»£ç é€šç”¨ä¸”å®‰å…¨**

### âŒ æ²¡æœ‰æ³›å‹çš„é—®é¢˜

```java
class Result {
    private Object data;
}
```

ç”¨çš„æ—¶å€™ï¼š

```java
Result r = service.getUser();
User u = (User) r.getData(); // å¼ºè½¬ï¼Œå±é™©
```

---

### âœ… ä½¿ç”¨æ³›å‹

```java
class Result<T> {
    private T data;
}
```

```java
Result<User> r = service.getUser();
User u = r.getData(); // ä¸ç”¨å¼ºè½¬ï¼Œå®‰å…¨
```

ğŸ“Œ ä¸€å¥è¯

> **T æ˜¯å ä½ç¬¦ï¼ŒçœŸæ­£çš„ç±»å‹ç”±ä½¿ç”¨è€…å†³å®š**

---

## ä¸‰ã€å°è£…ç»Ÿä¸€è¿”å› Result<T>

### 1ï¸âƒ£ æ ‡å‡† Result<T> è®¾è®¡

```java
public class Result<T> {

    private int code;
    private String message;
    private T data;

    public Result(int code, String message, T data) {
        this.code = code;
        this.message = message;
        this.data = data;
    }

    // æˆåŠŸ
    public static <T> Result<T> success(T data) {
        return new Result<>(200, "success", data);
    }

    // å¤±è´¥
    public static <T> Result<T> error(String message) {
        return new Result<>(500, message, null);
    }

    public T getData() {
        return data;
    }
}
```

ğŸ“Œ æ ¸å¿ƒç‚¹

* `Result<T>`ï¼šè¿”å›ä»€ä¹ˆç±»å‹ï¼Œç”± T å†³å®š
* `success(T data)`ï¼šä»»ä½•ç±»å‹éƒ½èƒ½è£…
* Controller ä¸å…³å¿ƒå…·ä½“æ•°æ®ç»“æ„

---

## å››ã€é›†åˆ + æ³›å‹ + Result çš„ç»„åˆæ‹³

### 1ï¸âƒ£ è¿”å›å•ä¸ªå¯¹è±¡

```java
Result<UserDTO>
```

```java
UserDTO user = new UserDTO("Alice", 18);
return Result.success(user);
```

---

### 2ï¸âƒ£ è¿”å›åˆ—è¡¨ï¼ˆæœ€å¸¸è§ï¼‰

```java
Result<List<UserDTO>>
```

```java
List<UserDTO> users = new ArrayList<>();
users.add(new UserDTO("Alice", 18));
users.add(new UserDTO("Bob", 20));

return Result.success(users);
```

ğŸ“Œ å‰ç«¯æ”¶åˆ°ï¼š

```json
{
  "code": 200,
  "message": "success",
  "data": [
    { "name": "Alice", "age": 18 },
    { "name": "Bob", "age": 20 }
  ]
}
```

---

### 3ï¸âƒ£ è¿”å› Mapï¼ˆç»Ÿè®¡ / é…ç½®ï¼‰

```java
Map<String, Object> stats = new HashMap<>();
stats.put("total", 100);
stats.put("online", 80);

return Result.success(stats);
```

---

## äº”ã€Service + Controller å®Œæ•´æ¡ˆä¾‹

### DTO

```java
public class UserDTO {
    private String name;
    private int age;

    public UserDTO(String name, int age) {
        this.name = name;
        this.age = age;
    }
}
```

---

### Service

```java
public interface UserService {
    Result<List<UserDTO>> listUsers();
}
```

```java
@Service
public class UserServiceImpl implements UserService {

    @Override
    public Result<List<UserDTO>> listUsers() {
        List<UserDTO> list = new ArrayList<>();
        list.add(new UserDTO("Alice", 18));
        list.add(new UserDTO("Bob", 20));
        return Result.success(list);
    }
}
```

---

### Controller

```java
@RestController
@RequestMapping("/users")
public class UserController {

    private final UserService userService;

    public UserController(UserService userService) {
        this.userService = userService;
    }

    @GetMapping
    public Result<List<UserDTO>> list() {
        return userService.listUsers();
    }
}
```

---

## å…­ã€ä¸ºä»€ä¹ˆâ€œé›†åˆ + æ³›å‹ + Resultâ€æ˜¯æ¥å£å¿…å¤‡ç»„åˆ

| èƒ½åŠ›        | è§£å†³çš„é—®é¢˜                   |
| --------- | ----------------------- |
| List<T>   | è¿”å›å¤šæ¡æ•°æ®                  |
| Map<K,V>  | åŠ¨æ€å­—æ®µ                    |
| æ³›å‹ T      | ç±»å‹å®‰å…¨ã€æ— éœ€å¼ºè½¬               |
| Result<T> | ç»Ÿä¸€æ¥å£è§„èŒƒ                  |
| åˆ†å±‚è®¾è®¡      | Controller / Service è§£è€¦ |

ğŸ“Œ æ€»ç»“ä¸€å¥è¯ï¼š

> **Result æ˜¯ç›’å­ï¼ŒT æ˜¯å†…å®¹ç±»å‹ï¼ŒList/Map æ˜¯å†…å®¹å½¢æ€**

---

å¦‚æœä½ æ„¿æ„ï¼Œä¸‹ä¸€æ­¥æˆ‘å¯ä»¥å¸®ä½ æŠŠè¿™ä¸€å¥— **æ•´ç†æˆä¸€å¼ ã€Œæ¥å£è¿”å›ç»“æ„é»„é‡‘æ¨¡æ¿ã€**
æˆ–è€…ç›´æ¥åšä¸€ä¸ª **â€œè¿ç»´ / API ä¸“ç”¨ Result + List + Map å®æˆ˜é¢˜â€**ï¼Œè®©ä½ æ‰‹æ•²ä¸€éå°±å½»åº•ç¨³äº†ã€‚

ä½ æ›´æƒ³è¦å“ªä¸€ä¸ªï¼Ÿ
