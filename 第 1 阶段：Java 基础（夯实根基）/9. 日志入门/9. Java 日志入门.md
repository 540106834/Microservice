好的，我们来讲解 **Java 日志入门**，从概念到常用框架和实践使用，帮助你快速上手。

---

## 1️ 日志的概念

**日志（Logging）** 是程序运行时记录信息的方式，用于：

* 调试程序（Debug）
* 监控系统运行状态
* 审计操作行为
* 排查问题（错误、异常）

**为什么不用 `System.out.println`？**

* 无法区分日志级别
* 不支持输出到文件、网络或数据库
* 无法灵活配置格式或输出策略

---

## 2️ Java 常用日志框架

| 框架                         | 特点                               |
| -------------------------- | -------------------------------- |
| **java.util.logging（JUL）** | JDK 自带，配置简单，功能基础                 |
| **Log4j / Log4j2**         | 功能强大，支持异步日志、文件滚动、格式化             |
| **SLF4J + Logback**        | SLF4J 是日志门面，Logback 是实现；现代企业应用常用 |
| **Commons Logging**        | 老旧，类似 SLF4J 功能                   |

✅ 企业开发通常选择 **SLF4J + Logback**，兼顾性能和扩展性。

---

## 3️ 日志级别（Level）

日志框架通常支持多级别：

| 级别    | 描述   | 使用场景            |
| ----- | ---- | --------------- |
| TRACE | 最详细  | 调试，记录细节         |
| DEBUG | 调试   | 开发阶段调试          |
| INFO  | 普通信息 | 系统运行状态，业务信息     |
| WARN  | 警告   | 潜在问题            |
| ERROR | 错误   | 异常或系统错误         |
| FATAL | 致命   | 系统不可用（Log4j 独有） |

 推荐原则：开发调试阶段使用 `DEBUG`，生产环境用 `INFO/WARN/ERROR`

---

## 4️ SLF4J + Logback 使用示例

### Maven 依赖

```xml
<dependencies>
    <!-- 日志门面 -->
    <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>slf4j-api</artifactId>
        <version>2.0.9</version>
    </dependency>
    <!-- Logback 实现 -->
    <dependency>
        <groupId>ch.qos.logback</groupId>
        <artifactId>logback-classic</artifactId>
        <version>1.4.11</version>
    </dependency>
</dependencies>
```

---

### 代码示例

```java
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public class LogDemo {
    // 获取 Logger
    private static final Logger logger = LoggerFactory.getLogger(LogDemo.class);

    public static void main(String[] args) {
        logger.trace("这是 TRACE 级别日志");
        logger.debug("这是 DEBUG 级别日志");
        logger.info("这是 INFO 级别日志");
        logger.warn("这是 WARN 级别日志");
        logger.error("这是 ERROR 级别日志");

        try {
            int result = 10 / 0;
        } catch (Exception e) {
            logger.error("捕获异常: ", e);
        }
    }
}
```

✅ 优点：

* 日志输出可区分级别
* 可以输出异常堆栈
* 日志内容可写入文件或数据库

---

### 5️ 配置 Logback

创建 `src/main/resources/logback.xml`：

```xml
<configuration>
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>logs/app.log</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>logs/app-%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>30</maxHistory>
        </rollingPolicy>
        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

    <root level="INFO">
        <appender-ref ref="STDOUT" />
        <appender-ref ref="FILE" />
    </root>
</configuration>
```

* 控制台 + 文件日志同时输出
* 按天滚动，保留 30 天

---

## 6️ 日志实践建议

1. **使用日志代替 `System.out.println`**
2. **按级别输出**：生产环境避免大量 DEBUG/TRACE
3. **记录异常堆栈**，方便排查
4. **日志内容尽量可读**：时间、线程、类名、消息
5. **切勿打印敏感信息**：密码、身份证号等

---

 总结：

* 日志是企业应用必备工具
* SLF4J + Logback 是主流选择
* 通过配置文件可控制输出策略
* 异常日志一定要记录堆栈，方便排查问题

---

我可以帮你画一张 **日志输出流程图**，从 **程序 → Logger → Appender → 控制台/文件**，清晰展示日志数据流和级别管理。

你希望我画吗？
